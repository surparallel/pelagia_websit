<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Pelagia</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="surparallel, sur, parallel, pelagia">
  <meta content="" name="This is the homepage about Pelagia project made by Surparallel laboratory">

  <!-- Favicons -->
  <link href="img/favicon.png" rel="icon">
  <link href="img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Ruda:400,900,700" rel="stylesheet">

  <!-- Bootstrap CSS File -->
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="lib/prettyphoto/css/prettyphoto.css" rel="stylesheet">
  <link href="lib/hover/hoverex-all.css" rel="stylesheet">
  <link href="lib/jetmenu/jetmenu.css" rel="stylesheet">
  <link href="lib/owl-carousel/owl-carousel.css" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <link href="css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="css/colors/blue.css">
  
  <!-- google-code-prettify -->
   <style>
  li.L0, li.L1, li.L2, li.L3,li.L5, li.L6, li.L7, li.L8{ list-style-type: decimal !important }
  </style>
  <link href="lib/google-code-prettify/prettify.css" type="text/css" rel="stylesheet"/>
  <script type="text/javascript" src="lib/google-code-prettify/prettify.js"></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-159851491-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-159851491-1');
</script>
</head>

<body onload="prettyPrint()">
  <div class="topbar clearfix">
    <div class="container">
      <div class="col-lg-12 text-right">
        <div class="social_buttons">
          <a href="https://github.com/surparallel/pelagia" data-toggle="tooltip" data-placement="bottom" title="Github"><i class="fa fa-github"></i></a>
          <a href="https://github.com/surparallel/pelagia" data-toggle="tooltip" data-placement="bottom" title="Facebook"><i class="fa fa-facebook"></i></a>
          <a href="https://github.com/surparallel/pelagia" data-toggle="tooltip" data-placement="bottom" title="Google+"><i class="fa fa-google-plus"></i></a>
          <a href="https://github.com/surparallel/pelagia" data-toggle="tooltip" data-placement="bottom" title="Dribbble"><i class="fa fa-dribbble"></i></a>
          <a href="https://github.com/surparallel/pelagia" data-toggle="tooltip" data-placement="bottom" title="RSS"><i class="fa fa-rss"></i></a>
        </div>
      </div>
    </div>
    <!-- end container -->
  </div>
  <!-- end topbar -->

  <header class="header">
    <div class="container">
      <div class="site-header clearfix">
        <div class="col-lg-3 col-md-3 col-sm-12 title-area">
          <div class="site-title social_buttons" id="title">
          	<img src="img/favicon.png" alt="" >
            <a href="index.html" title="">
            <h4>PEL<span>AGIA</span></h4>
            </a>
          </div>
        </div>
        <!-- title area -->
        <div class="col-lg-9 col-md-12 col-sm-12">
          <div id="nav" class="right">
            <div class="container clearfix">
              <ul id="jetmenu" class="jetmenu blue">
                <li><a href="about.html">about</a></li>
                <li><a href="start.html">get start</a></li>
                <li><a href="download.html">download</a></li>
                <li><a href="documentation.html">documentation</a></li>
                <li><a href="community.html">community</a></li>
              </ul>
            </div>
          </div>
          <!-- nav -->
        </div>
        <!-- title area -->
      </div>
      <!-- site header -->
    </div>
    <!-- end container -->
  </header>
  <!-- end header -->
 <section class="section1">
    <div class="container clearfix">
      <div class="content col-lg-12 col-md-12 col-sm-12 clearfix">
                  <h2 class="title">
                    	<span>Creating 9000 NPCs in unity2d</span>
                    </h2>
        <p>The free switching between multi thread and single thread is always an interesting topic.</p>
        <p>Developers like to develop in a single thread, accurate and orderly, not easy to make mistakes.</p>
        <p>But they are also reluctant to give up the efficiency improvement brought by multithreading.</p>
        <p>To improve the performance limitations of unity2d. Here's Pelagia from surparallel.org. It can switch freely between single thread and multi thread. Use Pelagia as you would any other single threaded software. You can switch between single thread and multi thread freely by simple setting.</p>
        <img src="img/view_control_dao.jpg" alt="" width="800" height="300">
        <p>Recently, Mount & Blade are very popular.</p>
        <p>Let sandbox technology get attention again.</p>
        <p>Sandbox technology refers to that players can freely develop and get different game scenarios in the game.</p>
        <p>The most famous sandbox game also includes Paradox Interactive series, including Victoria II, Hearts of Iron, Europa Universalis, etc.</p>
        <p>The key to making sandbox games fun is to create a large number of game characters.</p>
        <p>For example, thousands of soldiers are created each time in Mount & Blade.</p>
        <img src="img/Mount&Blade.jpg" alt="" width="800" height="300">
        <p>Creating a large number of game characters is a great challenge to game engine and game developers.</p>
        <p>This challenge comes from two aspects.</p>
        <p></p>
        <p>First, use appropriate technology to make the game support dynamic expansion.</p>
        <p>Second, the game is decomposed into different threads to maximize the utilization of system resources.</p>
        <p></p>
        <p>Here are three examples of how to do this.</p>
        <p>The first example is roguelike from unity. You can find its introduction and code at the following address</p>
        <p><a href="https://learn.unity.com/project/2d-roguelike-tutorial">https://learn.unity.com/project/2d-roguelike-tutorial</a></p>
        <p><a href="https://github.com/surparallel/unity_example_of_pelagia/tree/master/Roguelike">https://github.com/surparallel/unity_example_of_pelagia/tree/master/Roguelike</a></p>
        <p>This example has three performance issues</p>
        <p>1, Orchestration causes game blocking.</p>
        <p>2, Camera follow is not supported.</p>
        <p>3, Collision detection will fail, resulting in overlapping of NPC. </p>
        <p></p>
        <p>So I made big roguelike for the above three problems. </p>
        <p>You can find it in the link below.</p>
        <p><a href="https://github.com/surparallel/unity_example_of_pelagia/tree/master/Big%20Roguelike">https://github.com/surparallel/unity_example_of_pelagia/tree/master/Big%20Roguelike</a></p>
        <p>Big roguelikefe is perfect for stress testing. We enlarged the map a thousand times. And set the number of NPC to 3000. </p>
        <img src="img/big_rouelike1.png" alt="" width="800" height="300">
        <p>This reaches the limit of single thread.</p>
        <img src="img/big_rouelike2.png" alt="" width="800" height="300">
        <p>Why single thread? Because only one thread is in full working state.</p>
        <img src="img/big_rouelike3.png" alt="" width="800" height="300">
        <p>When you finish the first challenge, you will find that no amount of software optimization can significantly improve performance. At this time, more radical optimization plan should be considered. Ordinary technical level is far from enough to meet the sandbox game.</p>
        <p>The battle of a few or even a dozen people can be lethargic.</p>
        <p></p>
        <p>In order to solve the problem that one core is full the multiple cores to be idle. I created a excemple ultimate roguelike. </p>
        <p><a href="https://github.com/surparallel/unity_example_of_pelagia/tree/master/Ultimate%20Roguelike">https://github.com/surparallel/unity_example_of_pelagia/tree/master/Ultimate%20Roguelike</a></p>
        <p>Ultimate roguelike can create 9000 NPCs.Three times more performance</p>
        <img src="img/ultimage_rouelike1.png" alt="" width="800" height="300">
        <p>The pressure on unity is also very small.</p>
        <img src="img/ultimage_rouelike2.png" alt="" width="800" height="300">
        <p>CPU load increased to 60%.</p>
        <img src="img/ultimage_rouelike3.png" alt="" width="800" height="300">
        <p>It seems very simple to break the game into different threads. But 99% of game makers can't. Therefore, it is derided as a single core game by players. What game designers need is simple technology to make games colorful. Only in this way can we spare no effort to design more complex and vivid plots.</p>
        <p></p>
        <p>There are many options for multithreading optimization. It takes years to learn multithreading from scratch. Pelagia only needs you to know the basic asynchronous message concept to write high-quality multithreaded software.</p>
        <img src="img/high-performance1.jpg" alt="" width="800" height="300">
        <p>If unity creates a world, the logical level is the mirror image of different forms of the world. Unity is a world made up of color, and logic layer is a world made up of other data. Link this data through asynchronous messages is the world you see in unity. Pelagia depends on how the data is used, read and write, or logical dependency. The data is automatically divided into different logical layers, and each logical layer is equipped with message routing, hard disk read-write cache and other components. This allows you to quickly build a layered world. And put each layer into a different thread. This is the same way that we split the software system in practice. Pelagia just automates this complex process.</p>
        <img src="img/high-performance2.jpg" alt="" width="800" height="300">

    	</div>
    </div>
    <!-- end container -->
  </section>
  <!-- end section -->

  <footer class="footer">
  
    <!-- end container -->
    <div class="copyrights">
      <div class="container">
        <div class="col-lg-6 col-md-6 col-sm-12 columns footer-left">
          <p>Copyright © 2019 - 2020 surparallel.org - All rights reserved.</p>
        </div>

        <!-- end large-6 -->
      </div>
      <!-- end container -->
    </div>
    <!-- end copyrights -->
  </footer>
  <!-- end footer -->
  <div class="dmtop">Scroll to Top</div>

  <!-- JavaScript Libraries -->
  <script src="lib/jquery/jquery.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.min.js"></script>
  <script src="lib/php-mail-form/validate.js"></script>
  <script src="lib/prettyphoto/js/prettyphoto.js"></script>
  <script src="lib/isotope/isotope.min.js"></script>
  <script src="lib/hover/hoverdir.js"></script>
  <script src="lib/hover/hoverex.min.js"></script>
  <script src="lib/unveil-effects/unveil-effects.js"></script>
  <script src="lib/owl-carousel/owl-carousel.js"></script>
  <script src="lib/jetmenu/jetmenu.js"></script>
  <script src="lib/animate-enhanced/animate-enhanced.min.js"></script>
  <script src="lib/jigowatt/jigowatt.js"></script>
  <script src="lib/easypiechart/easypiechart.min.js"></script>

  <!-- Template Main Javascript File -->
  <script src="js/main.js"></script>

</body>
</html>
